{% extends "base.html" %}
{% block title %}Live Rankings{% endblock %}

{% block content %}
<div class="container py-4">
    <h3 class="fw-bold mb-3">Live College Rankings</h3>

    <ul class="list-group" id="rankingList">
        <li class="list-group-item text-muted text-center">Loadingâ€¦</li>
    </ul>
</div>

{% block extra_js %}
<script>
setInterval(() => {
    fetch("{% url 'college_ranking_live' %}")
    .then(r => r.json())
    .then(data => {
        const list = document.getElementById("rankingList");
        list.innerHTML = "";
        data.rankings.forEach((r, i) => {
            list.innerHTML += `
                <li class="list-group-item d-flex justify-content-between">
                    <span><strong>${i+1}. ${r.college}</strong></span>
                    <span class="badge bg-primary">${r.total_points}</span>
                </li>`;
        });
    });
}, 3000);
</script>
{% endblock %}
{% endblock %}
